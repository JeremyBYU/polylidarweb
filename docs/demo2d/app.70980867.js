parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"xgwM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__extends=e,exports.__rest=n,exports.__decorate=o,exports.__param=a,exports.__metadata=u,exports.__awaiter=i,exports.__generator=c,exports.__exportStar=f,exports.__values=l,exports.__read=s,exports.__spread=p,exports.__await=y,exports.__asyncGenerator=_,exports.__asyncDelegator=h,exports.__asyncValues=b,exports.__makeTemplateObject=v,exports.__importStar=d,exports.__importDefault=x,exports.__assign=void 0;var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};function e(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return exports.__assign=r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};function n(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&(r[n[o]]=t[n[o]])}return r}function o(t,e,r,n){var o,a=arguments.length,u=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,r,n);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(u=(a<3?o(u):a>3?o(e,r,u):o(e,r))||u);return a>3&&u&&Object.defineProperty(e,r,u),u}function a(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function i(t,e,r,n){return new(r||(r=Promise))(function(o,a){function u(t){try{c(n.next(t))}catch(e){a(e)}}function i(t){try{c(n.throw(t))}catch(e){a(e)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(u,i)}c((n=n.apply(t,e||[])).next())})}function c(t,e){var r,n,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,n=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(i){a=[6,i],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function f(t,e){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}function l(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function s(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)u.push(n.value)}catch(i){o={error:i}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return u}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function _(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),a=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){a.push([t,e,r,n])>1||i(t,e)})})}function i(t,e){try{(r=o[t](e)).value instanceof y?Promise.resolve(r.value.v).then(c,f):l(a[0][2],r)}catch(n){l(a[0][3],n)}var r}function c(t){i("next",t)}function f(t){i("throw",t)}function l(t,e){t(e),a.shift(),a.length&&i(a[0][0],a[0][1])}}function h(t){var e,r;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:y(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof l?l(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,o,(e=t[r](e)).done,e.value)})}}}function v(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}exports.__assign=r;
},{}],"+x4B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=Math.pow(2,-52);class i{static from(t,e=c,s=u){const n=t.length,h=new Float64Array(2*n);for(let i=0;i<n;i++){const n=t[i];h[2*i]=e(n),h[2*i+1]=s(n)}return new i(h)}constructor(i){const e=i.length>>1;if(e>0&&"number"!=typeof i[0])throw new Error("Expected coords to contain numbers.");this.coords=i;const h=2*e-5,a=this.triangles=new Uint32Array(3*h),c=this.halfedges=new Int32Array(3*h);this._hashSize=Math.ceil(Math.sqrt(e));const u=this.hullPrev=new Uint32Array(e),f=this.hullNext=new Uint32Array(e),_=this.hullTri=new Uint32Array(e),g=new Int32Array(this._hashSize).fill(-1),d=new Uint32Array(e);let y=1/0,w=1/0,x=-1/0,b=-1/0;for(let t=0;t<e;t++){const e=i[2*t],s=i[2*t+1];e<y&&(y=e),s<w&&(w=s),e>x&&(x=e),s>b&&(b=s),d[t]=t}const z=(y+x)/2,S=(w+b)/2;let k,A,M,T=1/0;for(let t=0;t<e;t++){const e=s(z,S,i[2*t],i[2*t+1]);e<T&&(k=t,T=e)}const p=i[2*k],K=i[2*k+1];T=1/0;for(let t=0;t<e;t++){if(t===k)continue;const e=s(p,K,i[2*t],i[2*t+1]);e<T&&e>0&&(A=t,T=e)}let U=i[2*A],L=i[2*A+1],v=1/0;for(let t=0;t<e;t++){if(t===k||t===A)continue;const e=r(p,K,U,L,i[2*t],i[2*t+1]);e<v&&(M=t,v=e)}let N=i[2*M],m=i[2*M+1];if(v===1/0)throw new Error("No Delaunay triangulation exists for this input.");if(n(p,K,U,L,N,m)){const t=A,i=U,e=L;A=M,U=N,L=m,M=t,N=i,m=e}const E=l(p,K,U,L,N,m);this._cx=E.x,this._cy=E.y;const P=new Float64Array(e);for(let t=0;t<e;t++)P[t]=s(i[2*t],i[2*t+1],E.x,E.y);o(d,P,0,e-1),this.hullStart=k;let F=3;f[k]=u[M]=A,f[A]=u[k]=M,f[M]=u[A]=k,_[k]=0,_[A]=1,_[M]=2,g[this._hashKey(p,K)]=k,g[this._hashKey(U,L)]=A,g[this._hashKey(N,m)]=M,this.trianglesLen=0,this._addTriangle(k,A,M,-1,-1,-1);for(let s,r,l=0;l<d.length;l++){const e=d[l],h=i[2*e],o=i[2*e+1];if(l>0&&Math.abs(h-s)<=t&&Math.abs(o-r)<=t)continue;if(s=h,r=o,e===k||e===A||e===M)continue;let a=0;for(let t=0,i=this._hashKey(h,o);t<this._hashSize&&(-1===(a=g[(i+t)%this._hashSize])||a===f[a]);t++);let c,y=a=u[a];for(;c=f[y],!n(h,o,i[2*y],i[2*y+1],i[2*c],i[2*c+1]);)if((y=c)===a){y=-1;break}if(-1===y)continue;let w=this._addTriangle(y,e,f[y],-1,-1,_[y]);_[e]=this._legalize(w+2),_[y]=w,F++;let x=f[y];for(;c=f[x],n(h,o,i[2*x],i[2*x+1],i[2*c],i[2*c+1]);)w=this._addTriangle(x,e,c,_[e],-1,_[x]),_[e]=this._legalize(w+2),f[x]=x,F--,x=c;if(y===a)for(;n(h,o,i[2*(c=u[y])],i[2*c+1],i[2*y],i[2*y+1]);)w=this._addTriangle(c,e,y,-1,_[y],_[c]),this._legalize(w+2),_[c]=w,f[y]=y,F--,y=c;this.hullStart=u[e]=y,f[y]=u[x]=e,f[e]=x,g[this._hashKey(h,o)]=e,g[this._hashKey(i[2*y],i[2*y+1])]=y}this.hull=new Uint32Array(F);for(let t=0,s=this.hullStart;t<F;t++)this.hull[t]=s,s=f[s];this.hullPrev=this.hullNext=this.hullTri=null,this.triangles=a.subarray(0,this.trianglesLen),this.halfedges=c.subarray(0,this.trianglesLen)}_hashKey(t,i){return Math.floor(e(t-this._cx,i-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{triangles:i,coords:e,halfedges:s}=this,n=s[t],r=t-t%3,l=n-n%3,o=r+(t+1)%3,a=r+(t+2)%3,c=l+(n+2)%3;if(-1===n)return a;const u=i[a],f=i[t],_=i[o],g=i[c];if(h(e[2*u],e[2*u+1],e[2*f],e[2*f+1],e[2*_],e[2*_+1],e[2*g],e[2*g+1])){i[t]=g,i[n]=u;const e=s[c];if(-1===e){let i=this.hullStart;do{if(this.hullTri[i]===c){this.hullTri[i]=t;break}i=this.hullNext[i]}while(i!==this.hullStart)}this._link(t,e),this._link(n,s[a]),this._link(a,c);const h=l+(n+1)%3;return this._legalize(t),this._legalize(h)}return a}_link(t,i){this.halfedges[t]=i,-1!==i&&(this.halfedges[i]=t)}_addTriangle(t,i,e,s,n,h){const r=this.trianglesLen;return this.triangles[r]=t,this.triangles[r+1]=i,this.triangles[r+2]=e,this._link(r,s),this._link(r+1,n),this._link(r+2,h),this.trianglesLen+=3,r}}function e(t,i){const e=t/(Math.abs(t)+Math.abs(i));return(i>0?3-e:1+e)/4}function s(t,i,e,s){const n=t-e,h=i-s;return n*n+h*h}function n(t,i,e,s,n,h){return(s-i)*(n-e)-(e-t)*(h-s)<0}function h(t,i,e,s,n,h,r,l){const o=t-r,a=i-l,c=e-r,u=s-l,f=n-r,_=h-l,g=c*c+u*u,d=f*f+_*_;return o*(u*d-g*_)-a*(c*d-g*f)+(o*o+a*a)*(c*_-u*f)<0}function r(t,i,e,s,n,h){const r=e-t,l=s-i,o=n-t,a=h-i,c=r*r+l*l,u=o*o+a*a,f=.5/(r*a-l*o),_=(a*c-l*u)*f,g=(r*u-o*c)*f;return _*_+g*g}function l(t,i,e,s,n,h){const r=e-t,l=s-i,o=n-t,a=h-i,c=r*r+l*l,u=o*o+a*a,f=.5/(r*a-l*o);return{x:t+(a*c-l*u)*f,y:i+(r*u-o*c)*f}}function o(t,i,e,s){if(s-e<=20)for(let n=e+1;n<=s;n++){const s=t[n],h=i[s];let r=n-1;for(;r>=e&&i[t[r]]>h;)t[r+1]=t[r--];t[r+1]=s}else{let n=e+1,h=s;a(t,e+s>>1,n),i[t[e]]>i[t[s]]&&a(t,e,s),i[t[n]]>i[t[s]]&&a(t,n,s),i[t[e]]>i[t[n]]&&a(t,e,n);const r=t[n],l=i[r];for(;;){do{n++}while(i[t[n]]<l);do{h--}while(i[t[h]]>l);if(h<n)break;a(t,n,h)}t[e+1]=t[h],t[h]=r,s-n+1>=h-e?(o(t,i,n,s),o(t,i,e,h-1)):(o(t,i,e,h-1),o(t,i,n,s))}}function a(t,i,e){const s=t[i];t[i]=t[e],t[e]=s}function c(t){return t[0]}function u(t){return t[1]}exports.default=i;
},{}],"K9xL":[function(require,module,exports) {
"use strict";var t,n;function e(t,n){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=n.coords,r=n.triangles,s=r[t],a=[o[2*s],o[2*s+1]],u=r[f(t)],i=[o[2*u],o[2*u+1]];return e?[a[0]-i[0],a[1]-i[1]]:[i[0]-a[0],i[1]-a[1]]}function o(t,n){const e=h(t,n),o=m(t,n);let r=Math.atan2(o,e);return r<0&&(r+=2*Math.PI),r}function r(t){return Math.abs(t.xmax-t.xmin)*Math.abs(t.ymax-t.ymin)}function s(t,n,e){const o=n.coords;t.forEach(t=>{const n=o[2*t],r=o[2*t+1];n<e.xmin?e.xmin=n:n>e.xmax&&(e.xmax=n),r<e.ymin?e.ymin=r:r>e.ymax&&(e.ymax=r)})}function a(t,n){const e=n.triangles,o={xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY};for(const r of t){s(i(r).map(t=>e[t]),n,o)}return o}function u(t,n,r){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n.length>2&&console.warn("More than 2 Hull edges!");const a=e(t,r,!0),u=n.map(t=>e(t,r,!1)).map(t=>o(a,t));let i=0;return n[i=s?u.indexOf(Math.min(...u)):u.indexOf(Math.max(...u))]}function i(t){return[3*t,3*t+1,3*t+2]}function l(t){return Math.floor(t/3)}function c(t,n){return i(n).map(n=>t.triangles[n])}function x(t,n){const e=[];for(const o of i(n)){const n=t.halfedges[o];n>=0&&e.push(l(n))}return e}function f(t){return t%3==2?t-2:t+1}function p(t){return t%3==0?t+2:t-1}function m(t,n){return t[0]*n[1]-t[1]*n[0]}function d(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function h(t,n){return t[0]*n[0]+t[1]*n[1]}function g(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function I(t,n,e){const o=n[0]-t[0],r=n[1]-t[1],s=n[2]-t[2],a=e[0]-t[0],u=e[1]-t[1],i=e[2]-t[2],l=[0,0,0];l[0]=r*i-s*u,l[1]=s*a-o*i,l[2]=o*u-r*a;const c=Math.sqrt(l[0]*l[0]+l[1]*l[1]+l[2]*l[2]);return[l[0]/c,l[1]/c,l[2]/c]}function N(t,n){return[n[2*t],n[2*t+1]]}function M(t,n){const e=n.coords,o=[];for(let r=0;r<t.length-1;r++){const n=t[r],s=t[r+1];o.push([N(n,e),N(s,e)])}return o.push([N(t[t.length-1],e),N(t[0],e)]),o}Object.defineProperty(exports,"__esModule",{value:!0}),function(t){t[t.Shell=0]="Shell",t[t.Hole=1]="Hole",t[t.Placeholder=2]="Placeholder",t[t.Broken=3]="Broken"}(t=exports.ConcaveResult||(exports.ConcaveResult={})),function(t){t[t.Unexplored=0]="Unexplored",t[t.Explored=1]="Explored",t[t.Invalid=2]="Invalid"}(n=exports.ItemState||(exports.ItemState={})),exports.bboxArea=r,exports.getBBOXPoints=s,exports.getBboxPlane=a,exports.getHullEdge=u,exports.edgesOfTriangle=i,exports.triangleOfEdge=l,exports.pointsOfTriangle=c,exports.trianglesAdjacentToTriangle=x,exports.nextHalfedge=f,exports.prevHalfedge=p,exports.norm=d,exports.dotProduct3=g,exports.triangleNormal=I,exports.pointList2Edge=M;
},{}],"tL2Y":[function(require,module,exports) {
"use strict";function t(t){this._head=0,this._tail=0,this._capacityMask=3,this._list=new Array(4),Array.isArray(t)&&this._fromArray(t)}t.prototype.peekAt=function(t){var i=t;if(i===(0|i)){var s=this.size();if(!(i>=s||i<-s))return i<0&&(i+=s),i=this._head+i&this._capacityMask,this._list[i]}},t.prototype.get=function(t){return this.peekAt(t)},t.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]},t.prototype.peekFront=function(){return this.peek()},t.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(t.prototype,"length",{get:function(){return this.size()}}),t.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},t.prototype.unshift=function(t){if(void 0===t)return this.size();var i=this._list.length;return this._head=this._head-1+i&this._capacityMask,this._list[this._head]=t,this._tail===this._head&&this._growArray(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},t.prototype.shift=function(){var t=this._head;if(t!==this._tail){var i=this._list[t];return this._list[t]=void 0,this._head=t+1&this._capacityMask,t<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),i}},t.prototype.push=function(t){if(void 0===t)return this.size();var i=this._tail;return this._list[i]=t,this._tail=i+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},t.prototype.pop=function(){var t=this._tail;if(t!==this._head){var i=this._list.length;this._tail=t-1+i&this._capacityMask;var s=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&t>1e4&&t<=i>>>2&&this._shrinkArray(),s}},t.prototype.removeOne=function(t){var i=t;if(i===(0|i)&&this._head!==this._tail){var s=this.size(),h=this._list.length;if(!(i>=s||i<-s)){i<0&&(i+=s),i=this._head+i&this._capacityMask;var a,_=this._list[i];if(t<s/2){for(a=t;a>0;a--)this._list[i]=this._list[i=i-1+h&this._capacityMask];this._list[i]=void 0,this._head=this._head+1+h&this._capacityMask}else{for(a=s-1-t;a>0;a--)this._list[i]=this._list[i=i+1+h&this._capacityMask];this._list[i]=void 0,this._tail=this._tail-1+h&this._capacityMask}return _}}},t.prototype.remove=function(t,i){var s,h=t,a=i;if(h===(0|h)&&this._head!==this._tail){var _=this.size(),e=this._list.length;if(!(h>=_||h<-_||i<1)){if(h<0&&(h+=_),1===i||!i)return(s=new Array(1))[0]=this.removeOne(h),s;if(0===h&&h+i>=_)return s=this.toArray(),this.clear(),s;var r;for(h+i>_&&(i=_-h),s=new Array(i),r=0;r<i;r++)s[r]=this._list[this._head+h+r&this._capacityMask];if(h=this._head+h&this._capacityMask,t+i===_){for(this._tail=this._tail-i+e&this._capacityMask,r=i;r>0;r--)this._list[h=h+1+e&this._capacityMask]=void 0;return s}if(0===t){for(this._head=this._head+i+e&this._capacityMask,r=i-1;r>0;r--)this._list[h=h+1+e&this._capacityMask]=void 0;return s}if(t<_/2){for(this._head=this._head+t+i+e&this._capacityMask,r=t;r>0;r--)this.unshift(this._list[h=h-1+e&this._capacityMask]);for(h=this._head-1+e&this._capacityMask;a>0;)this._list[h=h-1+e&this._capacityMask]=void 0,a--}else{for(this._tail=h,h=h+i+e&this._capacityMask,r=_-(i+t);r>0;r--)this.push(this._list[h++]);for(h=this._tail;a>0;)this._list[h=h+1+e&this._capacityMask]=void 0,a--}return this._head<2&&this._tail>1e4&&this._tail<=e>>>2&&this._shrinkArray(),s}}},t.prototype.splice=function(t,i){var s=t;if(s===(0|s)){var h=this.size();if(s<0&&(s+=h),!(s>h)){if(arguments.length>2){var a,_,e,r=arguments.length,o=this._list.length,c=2;if(!h||s<h/2){for(_=new Array(s),a=0;a<s;a++)_[a]=this._list[this._head+a&this._capacityMask];for(0===i?(e=[],s>0&&(this._head=this._head+s+o&this._capacityMask)):(e=this.remove(s,i),this._head=this._head+s+o&this._capacityMask);r>c;)this.unshift(arguments[--r]);for(a=s;a>0;a--)this.unshift(_[a-1])}else{var l=(_=new Array(h-(s+i))).length;for(a=0;a<l;a++)_[a]=this._list[this._head+s+i+a&this._capacityMask];for(0===i?(e=[],s!=h&&(this._tail=this._head+s+o&this._capacityMask)):(e=this.remove(s,i),this._tail=this._tail-l+o&this._capacityMask);c<r;)this.push(arguments[c++]);for(a=0;a<l;a++)this.push(_[a])}return e}return this.remove(s,i)}}},t.prototype.clear=function(){this._head=0,this._tail=0},t.prototype.isEmpty=function(){return this._head===this._tail},t.prototype.toArray=function(){return this._copyArray(!1)},t.prototype._fromArray=function(t){for(var i=0;i<t.length;i++)this.push(t[i])},t.prototype._copyArray=function(t){var i,s=[],h=this._list,a=h.length;if(t||this._head>this._tail){for(i=this._head;i<a;i++)s.push(h[i]);for(i=0;i<this._tail;i++)s.push(h[i])}else for(i=this._head;i<this._tail;i++)s.push(h[i]);return s},t.prototype._growArray=function(){this._head&&(this._list=this._copyArray(!0),this._head=0),this._tail=this._list.length,this._list.length*=2,this._capacityMask=this._capacityMask<<1|1},t.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},module.exports=t;
},{}],"Z8zV":[function(require,module,exports) {
"use strict";function t(t,o){return r(t)||n(t,o)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(t,e){var n=[],r=!0,o=!1,s=void 0;try{for(var l,i=t[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(a){o=!0,s=a}finally{try{r||null==i.return||i.return()}finally{if(o)throw s}}return n}function r(t){if(Array.isArray(t))return t}Object.defineProperty(exports,"__esModule",{value:!0});const o=require("tslib"),s=o.__importDefault(require("delaunator")),l=o.__importDefault(require("denque")),i=require("./helper"),a=require("./helper");function c(t){return"z_thresh"in t}function u(t){return"allowed_class"in t}function h(t){const e=t[0],n=t[1],r=t[2],o=a.norm([e[0]-n[0],e[1]-n[1]]),s=a.norm([n[0]-r[0],n[1]-r[1]]),l=a.norm([r[0]-e[0],r[1]-e[1]]),i=(o+s+l)/2;return o*s*l/(4*Math.sqrt(i*(i-o)*(i-s)*(i-l)))}function f(t){return function(e,n,r){const o=n.coords,s=a.pointsOfTriangle(n,e).map(t=>[o[2*t],o[2*t+1]]);if(t.xy_thresh){if(Math.abs(s[0][0]-s[1][0])>t.xy_thresh||Math.abs(s[0][1]-s[1][1])>t.xy_thresh)return!1;if(Math.abs(s[0][0]-s[2][0])>t.xy_thresh||Math.abs(s[0][1]-s[2][1])>t.xy_thresh)return!1;if(Math.abs(s[1][0]-s[2][0])>t.xy_thresh||Math.abs(s[1][1]-s[2][1])>t.xy_thresh)return!1}return!(t.alpha&&h(s)>1/t.alpha)}}function d(t){const e=f(t);return function(n,r,o){if(!e(n,r,o))return!1;const s=a.pointsOfTriangle(r,n).map(e=>[o[e*t.dim],o[e*t.dim+1],o[e*t.dim+2]]);if(t.z_thresh){const e=Math.min(s[0][2],s[1][2],s[2][2]);if(Math.max(s[0][2],s[1][2],s[2][2])-e<t.z_thresh)return!0}if(t.norm_thresh){const e=a.triangleNormal(s[0],s[1],s[2]);if(Math.abs(a.dotProduct3(e,t.desired_vector))<t.norm_thresh)return!1}return!0}}function p(t){const e=d(t);return function(n,r,o){const s=a.pointsOfTriangle(r,n).map(e=>o[e*t.dim+3]);return!(void 0!==t.allowed_class&&!s.every(e=>e===t.allowed_class)||!e(n,r,o))}}function x(t,e,n){const r=Math.floor(t.triangles.length/3),o={};for(let s=0;s<r;s++)e(s,t,n)&&(o[s]=i.ItemState.Unexplored);return o}function g(t,e,n){const r=new l.default;r.push(n),delete e[n];const o=[];for(;!r.isEmpty();){const n=r.pop();o.push(n);const s=a.trianglesAdjacentToTriangle(t,n).filter(t=>void 0!==e[t]);for(const t of s)r.push(t),delete e[t]}return o}function m(t,e,n){if(t.length<e.min_triangles)return!1;const r=a.getBboxPlane(t,n);return!(a.bboxArea(r)<e.min_bbox_area)}function v(t,e,n,r){const o=x(t,n,r);let s=[];const l=[];for(;!((s=Object.keys(o)).length<1);){const n=g(t,o,parseFloat(s[0]));m(n,e,t)&&l.push(n)}return l}function y(t,e,n){let r=[],o=f(e);return u(e)?o=p(e):c(e)&&(o=d(e)),r=v(t,e,o,n)}function _(t,e,n,r){const o=e.coords;o[2*t]>n.xr.val&&(n.xr.val=o[2*t],n.xr.he=r,n.xr.pi=t),o[2*t]<n.xl.val&&(n.xl.val=o[2*t],n.xl.he=r,n.xl.pi=t)}function b(t,e){const n=e.triangles,r=e.halfedges,o={},s={},l={};for(let c=0;c<t.length;c++)s[t[c]]=i.ItemState.Explored;const a={xr:{he:void 0,val:Number.NEGATIVE_INFINITY,pi:void 0},xl:{he:void 0,val:Number.POSITIVE_INFINITY,pi:void 0}};for(let c=0;c<t.length;c++){const u=3*t[c];for(let t=0;t<3;t++){const c=u+t,h=r[c];if(-1===h||void 0===s[Math.floor(h/3)]){l[c]=i.ItemState.Explored;const t=n[c];_(t,e,a,c),void 0!==o[t]?o[t].push(c):o[t]=[c]}}}return[o,s,l,a]}function E(t,e,n,r,o){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=n.triangles;let i=r;const c=[];for(;;){delete e[i];const r=l[a.nextHalfedge(i)];if(c.push(r),r===o)return c;let u=t[r];if(void 0===u||0===u.length)return console.error("Error! Possibly incorrect edge labeled as part of the concave hull"),[];if(1===(u=u.filter(t=>void 0!==e[t])).length)i=u[0];else{i=a.getHullEdge(i,u,n,s)}}}function P(t,e,n){const r=n.triangles,o=[];let s=Object.keys(e);if(1==s.length)return o;for(;0!==(s=Object.keys(e)).length;){const l=parseFloat(s[0]),i=E(t,e,n,l,r[l],!1);o.push(i)}return o}function I(e,n,r){if(e.length<1)return;const o=t(b(e,n),4),s=o[0],l=(o[1],o[2]),i=o[3];return{shell:E(s,l,n,i.xr.he,i.xr.pi,!1),holes:P(s,l,n)}}function M(t,e,n){const r=[];for(const o of t){const t=I(o,e,n);r.push(t)}return r}function T(t,e,n){console.log(`Points Length: ${t.length}`),console.time("Delaunay");const r=s.default.from(t);console.timeEnd("Delaunay"),console.time("Extract Planes");const o=y(r,e,n);console.timeEnd("Extract Planes"),console.time("Extract Polygons");const l=M(o,r,e);return console.timeEnd("Extract Polygons"),[r,o,l]}exports.applyPlaneConstraints=m,exports.create_planes=v,exports.extractPlanes=y,exports.extractConcaveHull=I,exports.extractConcaveHulls=M,exports.extractPlanesAndPolygons=T;
},{"tslib":"xgwM","delaunator":"+x4B","denque":"tL2Y","./helper":"K9xL"}],"IieH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.points=[[0,0],[172,32],[171,38],[184,30],[185,38],[255,255],[1.8140243902439024,19.176829268292682],[114.02439024390243,170.5182926829268],[97.4390243902439,168.96341463414635],[74.375,115.57926829268293],[94.32926829268293,89.92378048780488],[106.5091463414634,91.73780487804878],[112.98780487804878,112.21036585365853],[97.69817073170732,120.76219512195122],[86.8140243902439,102.6219512195122],[101.58536585365853,89.66463414634146],[122.83536585365853,91.73780487804878],[126.98170731707317,108.58231707317073],[106.5091463414634,118.17073170731707],[97.69817073170732,118.17073170731707],[94.84756097560975,130.35060975609755],[102.6219512195122,134.2378048780488],[109.10060975609755,127.24085365853658],[110.39634146341463,114.80182926829268],[124.64939024390243,109.10060975609755],[133.71951219512195,114.02439024390243],[135.015243902439,124.1310975609756],[113.76524390243902,122.3170731707317],[106.76829268292683,111.17378048780488],[100.8079268292683,105.99085365853658],[91.9969512195122,109.8780487804878],[90.96036585365853,127.7591463414634],[90.70121951219512,137.08841463414635],[98.9939024390244,151.08231707317074],[111.6920731707317,152.1189024390244],[123.09451219512195,140.97560975609755],[126.20426829268293,137.8658536585366],[128.79573170731706,140.97560975609755],[132.16463414634146,141.4939024390244],[134.4969512195122,141.4939024390244],[133.71951219512195,151.85975609756096],[133.71951219512195,152.1189024390244],[133.71951219512195,152.3780487804878],[127.5,161.96646341463415],[121.28048780487805,165.33536585365854],[121.02134146341463,165.33536585365854],[121.02134146341463,165.85365853658536],[126.20426829268293,173.10975609756096],[137.34756097560975,173.10975609756096],[144.34451219512195,168.4451219512195],[146.9359756097561,158.33841463414635],[148.4908536585366,150.04573170731706],[148.4908536585366,149.78658536585365],[148.4908536585366,149.52743902439025],[149.52743902439025,138.3841463414634],[143.8262195121951,130.60975609756096],[140.97560975609755,128.01829268292684],[139.6798780487805,123.8719512195122],[138.90243902439025,117.39329268292683],[138.90243902439025,116.875],[147.1951219512195,117.1341463414634],[164.29878048780486,133.97865853658536],[168.4451219512195,158.85670731707316],[165.85365853658536,166.890243902439],[150.8231707317073,171.8140243902439],[143.3079268292683,175.96036585365854],[135.015243902439,187.8810975609756],[134.7560975609756,196.9512195121951],[138.3841463414634,200.83841463414635],[146.9359756097561,202.91158536585365],[152.3780487804878,203.17073170731706],[157.5609756097561,197.9878048780488],[162.22560975609755,187.6219512195122],[163.78048780487805,182.1798780487805],[164.03963414634146,181.40243902439025],[163.0030487804878,183.47560975609755],[156.78353658536585,192.28658536585365],[155.7469512195122,193.0640243902439],[153.9329268292683,194.35975609756096],[150.5640243902439,196.4329268292683],[146.6768292682927,197.72865853658536],[244.6341463414634,260.1829268292683],[255.77743902439025,247.48475609756096],[259.405487804878,241.78353658536585],[234.52743902439025,257.0731707317073],[234.2682926829268,256.5548780487805]];
},{}],"EVxB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("tslib"),t=e.__importDefault(require("delaunator")),o=require("../../src/helper"),n=require("../../src/main"),l=require("./points");let i=t.default.from(l.points);window.delaunay=i;let s=document.getElementById("canvas"),c=s.getContext("2d"),r=1/0,a=1/0,h=-1/0,d=-1/0;const u=10,f=1,p=30;for(let _=0;_<l.points.length;_++){const e=l.points[_][0],t=l.points[_][1];e<r&&(r=e),t<a&&(a=t),e>h&&(h=e),t>d&&(d=t)}let g=20,m=1024,v=1024,x=[],y=[];const b=["#4878d0","#ee854a","#6acc64","#d65f5f","#956cb4","#8c613c","#dc7ec0","#797979","#d5bb67","#82c6e2"];s.style.width=m+"px",s.style.height=v+"px",s.width=m,s.height=v,window.devicePixelRatio>=2&&(s.width=2*m,s.height=2*v,c.scale(2,2));let P=(m-2*g)/Math.max(h-r,d-a);function w(e,t){var o=e.getBoundingClientRect();return{x:t.touches[0].clientX-o.left,y:t.touches[0].clientY-o.top}}function T(e){l.points.push([(e.layerX-g)/P+r,(e.layerY-g)/P+a]),console.time("delaunay"),i=t.default.from(l.points),console.timeEnd("delaunay"),window.updated=!0}function k(e,t,o){return[(e[0]+t[0]+o[0])/3,(e[1]+t[1]+o[1])/3]}function E(e){return g+P*(e-r)}function S(e){return g+P*(e-a)}function M(e){return E(l.points[e][0])}function C(e){return S(l.points[e][1])}function q(){requestAnimationFrame(q),W()}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#2EAC36",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c.strokeStyle=t,c.lineWidth=o,n?c.setLineDash([5,15]):c.setLineDash([]);for(const l of e){c.beginPath();const e=l[0],t=l[1];c.moveTo(E(e[0]),S(e[1])),c.lineTo(E(t[0]),S(t[1])),c.stroke()}c.setLineDash([])}function D(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#008000",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#F67C3D";if(e.length!==t.length)console.error("Planes and Hull should be equal");else for(let s=0;s<e.length;s++){const c=e[s],r=t[s];F(c,b[s]),L(o.pointList2Edge(r.shell,i),n,5,!1);for(const e of r.holes){L(o.pointList2Edge(e,i),l,5,!1)}}}function F(e,t){const o=i.triangles;c.beginPath();for(const n of e){const e=3*n,t=o[e],l=o[e+1],i=o[e+2];c.moveTo(M(t),C(t)),c.lineTo(M(l),C(l)),c.lineTo(M(i),C(i)),c.closePath()}c.strokeStyle=t,c.fillStyle=t,c.lineWidth=.5,c.stroke(),c.fill()}function H(){const e=h-r,t=e/p,o=d-a,n=o/p,l=Math.floor(.01*o),i=Math.floor(.01*e);c.beginPath(),c.fillStyle="black",c.strokeStyle="black";for(let s=Math.ceil(r);s<=r+e;s+=t){const e=Math.floor(s);c.moveTo(E(e),S(d)+g/2),c.lineTo(E(e),S(d)),c.fillText(e.toFixed(1),E(e-i),S(d)+g),c.closePath()}for(let s=a;s<=a+o;s+=n){const e=Math.floor(s);c.moveTo(E(r)-g/2,S(e)),c.lineTo(E(r),S(e)),c.save(),c.translate(E(r)-g-1,S(e+l)),c.rotate(-Math.PI/2),c.fillText(e.toFixed(1),0,u),c.restore(),c.closePath()}c.stroke()}function W(){if(!window.updated)return;window.updated=!1,c.clearRect(0,0,m,v),H();const e={min_bbox_area:1e3,xy_thresh:20,dim:2,min_triangles:15,alpha:0};console.time("Extract Planes"),x=n.extractPlanes(i,e,l.points),console.timeEnd("Extract Planes"),console.time("Concave Hull Extraction");const t=n.extractConcaveHulls(x,i,e);console.timeEnd("Concave Hull Extraction"),console.log(`# Points: ${l.points.length}`),console.log(t),D(x,t);let o=i.triangles;c.beginPath(),c.fillStyle="black";for(let n=0;n<o.length;n+=3){let e=o[n],t=o[n+1],i=o[n+2],s=k(l.points[e],l.points[t],l.points[i]);c.moveTo(M(e),C(e)),c.lineTo(M(t),C(t)),c.lineTo(M(i),C(i)),c.fillText((n/3).toString(),E(s[0]),S(s[1])),c.closePath()}c.strokeStyle="black",c.lineWidth=.5,c.stroke(),c.beginPath();for(const n of i.hull)c.lineTo(M(n),C(n));c.closePath(),c.lineWidth=1,c.strokeStyle="red",c.stroke(),c.fillStyle="black",c.beginPath();for(let n=0;n<l.points.length;n++)c.rect(M(n)-1.5,C(n)-1.5,3,3);c.fill()}c.lineJoin="round",c.lineCap="round",window.updated=!0,window.points=l.points,s.addEventListener("touchmove",e=>{const t=e.touches[0],o=new MouseEvent("mousemove",{clientX:t.clientX,clientY:t.clientY});s.dispatchEvent(o)},{passive:!0}),s.onmousemove=_.throttle(T,1),q();
},{"tslib":"xgwM","delaunator":"+x4B","../../src/helper":"K9xL","../../src/main":"Z8zV","./points":"IieH"}]},{},["EVxB"], null)
//# sourceMappingURL=app.70980867.map